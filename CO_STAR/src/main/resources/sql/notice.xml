<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="Notice">
	<resultMap type="NoticeVO" id="noticeMap">
		<result property="noticeNo" column="no" jdbcType="NUMERIC" />
		<result property="noticeTitle" column="title" jdbcType="VARCHAR" />
		<result property="noticeContent" column="content" jdbcType="VARCHAR" />
		<result property="noticeWriteTime" column="writeTime" jdbcType="DATE" />
		<result property="noticeUpdateTime" column="updateTime"
			jdbcType="DATE" />
		<result property="memberVO.memberId" column="memberId"
			jdbcType="VARCHAR" />
	</resultMap>

	
	<!-- NOTICE -->
	<insert id="addNotice" parameterType="noticeVO">
		INSERT INTO notice Values(
		#{noticeNo},
		#{noticeTitle},
		#{noticeContent},
		sysdate,
		'',
		#{memberVO.memberId}
		)
	</insert>

	 <update id="updateNotice" parameterType="noticeVO">

		UPDATE notice SET
		noticeTitle = #{noticeTitle},
		noticeContent = #{noticeContent},
		noticeUpdateTime= SYSDATE
		WHERE noticeNo = #{noticeNo}

	</update>

	<delete id="deleteNotice" parameterType="noticeVO">
		DELETE FROM notice WHERE
		noticeNo=#{noticeNo}
	</delete>

	<select id="selectAllNotice" resultMap="noticeMap">
		SELECT * FROM Notice ORDER BY noticeWriteTime ASC
	</select>

	<select id="selectByNoticeNo" parameterType="string" resultType="noticeVO">
		SELECT * FROM notice WHERE noticeNo = #{value}
	</select>
	
	 

</mapper>










